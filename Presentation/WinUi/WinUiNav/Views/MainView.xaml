<?xml version="1.0" encoding="utf-8"?>
<Page x:Class="CiccioGest.Presentation.WinUiNav.Views.MainView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:CiccioGest.Presentation.WinUiNav.Views"
      xmlns:viewmodel="using:CiccioGest.Presentation.Mvvm.ViewModels"
      xmlns:i="using:Microsoft.Xaml.Interactivity"
      xmlns:helpers="using:CiccioGest.Presentation.WinUiBackend.Helpers"
      xmlns:converters="using:CiccioGest.Presentation.WinUiBackend.Converters"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      d:DataContext="{d:DesignInstance Type=viewmodel:MainViewModel}"
      mc:Ignorable="d"
      Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <NavigationView IsBackButtonVisible="Visible">

        <NavigationView.MenuItems>

            <NavigationViewItem Content="Dashboard"
                                Icon="Home"
                                Tapped="FakeNavigationViewItem_Tapped"
                                x:Name="DashboardNavigationViewItem" />

            <NavigationViewItem Content="Fatture"
                                Icon="PreviewLink"
                                Tapped="FakeNavigationViewItem_Tapped"
                                x:Name="FattureNavigationViewItem" />

            <NavigationViewItem Content="Magazino">
                <NavigationViewItem.Icon>
                    <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}"
                              Glyph="&#xE781;" />
                </NavigationViewItem.Icon>
                <NavigationViewItem.MenuItems>
                    <NavigationViewItem Content="Articoli"
                                        Icon="Document"
                                        Name="ArticoliNavigationViewItem" />
                    <NavigationViewItem Content="Categorie"
                                        Icon="Document"
                                        Name="CategorieNavigationViewItem" />
                </NavigationViewItem.MenuItems>
            </NavigationViewItem>

            <NavigationViewItem Content="Anagrafica"
                                Icon="People">
                <NavigationViewItem.MenuItems>
                    <NavigationViewItem Content="Clienti"
                                        Icon="ContactInfo"
                                        Name="ClientiNavigationViewItem" />
                    <NavigationViewItem Content="Fornitori"
                                        Icon="ContactInfo"
                                        Name="FornitoriNavigationViewItem" />
                </NavigationViewItem.MenuItems>
            </NavigationViewItem>

        </NavigationView.MenuItems>

        <Frame x:Name="shellFrame" />

        <i:Interaction.Behaviors>

            <i:EventTriggerBehavior EventName="Tapped"
                                     SourceObject="{Binding ElementName=DashboardNavigationViewItem}">
                <i:InvokeCommandAction Command="{Binding ApriDashboardCommand}" />
            </i:EventTriggerBehavior>

            <i:EventTriggerBehavior EventName="Tapped"
                                     SourceObject="{Binding ElementName=ClientiNavigationViewItem}">
                <i:InvokeCommandAction Command="{Binding ApriClientiCommand}" />
            </i:EventTriggerBehavior>

            <i:EventTriggerBehavior EventName="Tapped"
                                     SourceObject="{Binding ElementName=FornitoriNavigationViewItem}">
                <i:InvokeCommandAction Command="{Binding ApriFornitoriCommand}" />
            </i:EventTriggerBehavior>

            <i:EventTriggerBehavior EventName="Tapped"
                                     SourceObject="{Binding ElementName=FattureNavigationViewItem}">
                <i:InvokeCommandAction Command="{Binding ApriFatturaCommand}" />
            </i:EventTriggerBehavior>

            <i:EventTriggerBehavior EventName="Tapped"
                                     SourceObject="{Binding ElementName=ArticoliNavigationViewItem}">
                <i:InvokeCommandAction Command="{Binding ApriArticoliCommand}" />
            </i:EventTriggerBehavior>

            <i:EventTriggerBehavior EventName="Tapped"
                                     SourceObject="{Binding ElementName=CategorieNavigationViewItem}">
                <i:InvokeCommandAction Command="{Binding ApriCategorieCommand}" />
            </i:EventTriggerBehavior>

            <i:EventTriggerBehavior EventName="BackRequested">
                <i:InvokeCommandAction Command="{Binding BackRequestedCommand}" />
            </i:EventTriggerBehavior>

        </i:Interaction.Behaviors>

    </NavigationView>

</Page>
